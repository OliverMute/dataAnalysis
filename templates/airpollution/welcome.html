{% extends 'base.html' %}
{% block content %}
<!-- Contact Section-->
<section class="page-section" id="import-form">
    <div class="container">
        <!-- Contact Section Heading-->
        <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Upload File</h2>
        <!-- Icon Divider-->
        <div class="divider-custom">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
            <div class="divider-custom-line"></div>
        </div>
        <!-- Upload File Section Form-->
        <div class="row justify-content-center">
            <div class="col-lg-8 col-xl-7">
                <!-- * * * * * * * * * * * * * * *-->
                <!-- * * SB Forms Contact Form * *-->
                <!-- * * * * * * * * * * * * * * *-->
                <!-- This form is pre-integrated with SB Forms.-->
                <!-- To make this form functional, sign up at-->
                <!-- https://startbootstrap.com/solution/contact-forms-->
                <!-- to get an API token!-->
                <form id="upload-file" name="upload-file" enctype="multipart/form-data" method="POST" action="{% url 'airpollution:upload_file' %}"
                >
                    {% csrf_token %}
                              {% comment %} csrf_token -> cross site request forgery
                              It's a secret, user-specific token in all form submissions and side-effect
                              URLs to prevent Cross-Site Request Forgeries
                              {% endcomment %}
                    <!-- Year input-->
                    <div class="form-floating mb-3">
                        <input class="form-control" id="name" name="year" type="number" placeholder="Year"
                               data-sb-validations="required"/>
                        <label for="Year">Year</label>
                        <div class="invalid-feedback" data-sb-feedback="name:required">A year is required.</div>
                    </div>
                    <!-- File input-->
                    <div class="form-floating mb-3">
                        <input class="form-control" id="file" name="file" type="file"
                               data-sb-validations="required"/>
                        <label for="File">File</label>
                        <div class="invalid-feedback" data-sb-feedback="file:required">An file is required.</div>
                        <div class="invalid-feedback" data-sb-feedback="file:file">File is not valid.</div>
                    </div>
                    <!-- Submit success message-->
                    <!---->
                    <!-- This is what your users will see when the form-->
                    <!-- has successfully submitted-->
                    <div class="d-none" id="submitSuccessMessage">
                        <div class="text-center mb-3">
                            <div class="fw-bolder">{{ message_success }} </div>
                        </div>
                    </div>
                    <!-- Submit error message-->
                    <!---->
                    <!-- This is what your users will see when there is-->
                    <!-- an error submitting the form-->
                    <div class="d-none" id="submitErrorMessage">
                        <div class="text-center text-danger mb-3">Error sending message!</div>
                    </div>
                    <!-- Submit Button-->
                    <button class="btn btn-primary btn-xl" id="submitButton" type="submit">Upload</button>
                    {% comment %} id="submitButton" -> we can't change this id otherwise form validation not
                    working{% endcomment %}
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}
